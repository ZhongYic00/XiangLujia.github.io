<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="author" content="by XLJ"><meta name="description" conauthortent="laji OIer"><link rel="alternative" href="/atom.xml" title="XLJ's blog" type="application/atom+xml"><link rel="icon" href="/img/favicon.png"><title>2017.7.18 NOIP模拟 - XLJ's blog</title><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/js/fancybox/jquery.fancybox.min.css"><!--[if lt IE 9]><script>(function(a,b){a="abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video".split(" ");for(b=a.length-1;b>=0;b--)document.createElement(a[b])})()</script><![endif]--><script src="/js/jquery-3.1.1.min.js"></script><script src="/js/fancybox/jquery.fancybox.min.js"></script></head><body style="opacity:0;"><header class="head"><h1 class="head-title u-fl"><a href="/">XLJ's blog</a></h1><nav class="head-nav u-fr"><ul class="head-nav__list"><li class="head-nav__item"><a class="head-nav__link" href="/archives">カタログ（目录）</a></li><li class="head-nav__item"><a class="head-nav__link" href="https://xianglujia.github.io/2017/07/18/About/">について（关于）</a></li><li class="head-nav__item"><a class="head-nav__link" href="https://xianglujia.github.io/2017/07/19/友链/">友達（友链）</a></li></ul></nav></header><main class="main"><article class="post"><header class="post__head"> <time class="post__time" datetime="2017-07-20T13:08:06.356Z">July 20, 2017</time><h1 class="post__title"><a href="/2017/07/20/2017.7.18 NOIP模拟/">2017.7.18 NOIP模拟</a></h1><div class="post__main echo"><table>
<thead>
<tr>
<th>试题名称</th>
<th>分组</th>
<th>阶乘</th>
<th>拐弯</th>
<th>赛马 </th>
</tr>
</thead>
<tbody>
<tr>
<td>提交文件</td>
<td>group</td>
<td>num</td>
<td>ddos</td>
<td>horse </td>
</tr>
<tr>
<td>输入文件</td>
<td>group.in</td>
<td>num.in</td>
<td>ddos.in</td>
<td>horse.in </td>
</tr>
<tr>
<td>输出文件</td>
<td>group.out</td>
<td>num.out</td>
<td>ddos.out</td>
<td>horse.out </td>
</tr>
<tr>
<td>时间限制</td>
<td>1s</td>
<td>2s</td>
<td>1s</td>
<td>1s</td>
</tr>
<tr>
<td>空间限制</td>
<td>128MB</td>
<td>128MB</td>
<td>128MB</td>
<td>128MB </td>
</tr>
</tbody>
</table>
<p>题目来源 Topcoder vijos</p>
<h1 id="分组"><a href="#分组" class="headerlink" title="分组"></a>分组</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><p>有 N 组学生，给出初始时每组中的学生个数，再给出上界 R 和下界 L（L&lt;=R)，每次你可以在某组中选出一个学生 把他安排到另外一组中，问最少要操作多少次才可以使 N 组学生的人数都在[L,R]中。 </p>
<h2 id="输入文件"><a href="#输入文件" class="headerlink" title="输入文件"></a>输入文件</h2><p>第一行一个整数 N，表示学生组数； 第二行 N 个整数，表示每组的学生人数； 第三行两个整数 L,R，表示下界和上界。 </p>
<h2 id="输出文件"><a href="#输出文件" class="headerlink" title="输出文件"></a>输出文件</h2><p>仅一个数，表示最少的操作次数，若不满足题目条件输出-1。 </p>
<h2 id="样例输入"><a href="#样例输入" class="headerlink" title="样例输入"></a>样例输入</h2><p>2 </p>
<p>10 20</p>
<p>10 15 </p>
<h2 id="样例输出"><a href="#样例输出" class="headerlink" title="样例输出"></a>样例输出</h2><p>5 </p>
<h2 id="数据规模"><a href="#数据规模" class="headerlink" title="数据规模"></a>数据规模</h2><p>N&lt;=50,L&lt;=R,其他数都在[1,1000000]中。</p>
<h2 id="题解"><a href="#题解" class="headerlink" title="题解"></a>题解</h2><p>此题比较神奇<br>首先判断 能否满足转移条件</p>
<blockquote>
<p>就是 L <em> n&lt;=tot&lt;=R </em> n</p>
</blockquote>
<p>基于这种满足的话 ，无论移多少步，总会有一种办法成功<br>那么就会有两种选择</p>
<blockquote>
<p>1.多于R的组移 a[i]-R个 到别的地方去<br>2.少于L的 移L-a[i]个 到别的地方去<br>不管移到哪个组，总是可以移好的</p>
</blockquote>
<p>那么直接比较1和2取最小值就行了<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt; </span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="keyword">int</span> N,a[<span class="number">100</span>];</div><div class="line"><span class="keyword">int</span> L,R,m1,m2,sum;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</div><div class="line">	freopen(<span class="string">"group.in"</span>,<span class="string">"r"</span>,<span class="built_in">stdin</span>);</div><div class="line">	freopen(<span class="string">"group.out"</span>,<span class="string">"w"</span>,<span class="built_in">stdout</span>);</div><div class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;N);</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=N;i++)</div><div class="line">		<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;a[i]),sum+=a[i];</div><div class="line">	<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;L,&amp;R);</div><div class="line">	<span class="keyword">if</span>(L*N&gt;sum||R*N&lt;sum)&#123;</div><div class="line">		<span class="built_in">printf</span>(<span class="string">"-1\n"</span>);</div><div class="line">		<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=N;i++)&#123;</div><div class="line">		<span class="keyword">if</span>(a[i]&gt;R)m1+=a[i]-R;</div><div class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(a[i]&lt;L)m2+=L-a[i];</div><div class="line">	&#125;</div><div class="line">	<span class="built_in">printf</span>(<span class="string">"%d"</span>,max(m1,m2));</div><div class="line">	</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h1 id="阶乘"><a href="#阶乘" class="headerlink" title="阶乘"></a>阶乘</h1><h2 id="题目描述-1"><a href="#题目描述-1" class="headerlink" title="题目描述"></a>题目描述</h2><p>给出 N，求出 N！最右边非零的数 </p>
<h2 id="输入文件-1"><a href="#输入文件-1" class="headerlink" title="输入文件"></a>输入文件</h2><p>第一行一个整数 T，表示数据组数； 接下来每行一个整数 N </p>
<h2 id="输出文件-1"><a href="#输出文件-1" class="headerlink" title="输出文件"></a>输出文件</h2><p>共输出 T 行，每行表示对应的答案 </p>
<h2 id="样例输入-1"><a href="#样例输入-1" class="headerlink" title="样例输入"></a>样例输入</h2><p>1 5 </p>
<h2 id="样例输出-1"><a href="#样例输出-1" class="headerlink" title="样例输出"></a>样例输出</h2><p>2 </p>
<h2 id="数据规模-1"><a href="#数据规模-1" class="headerlink" title="数据规模"></a>数据规模</h2><p>30%的数据，N&lt;=30，T&lt;=10; 100%的数据，N&lt;=10^2009,T&lt;=30。</p>
<h2 id="题解-1"><a href="#题解-1" class="headerlink" title="题解"></a>题解</h2><p>并不会做，只打表混了暴力分30<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdlib&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">int</span> ans[<span class="number">1000</span>]=&#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">6</span>,<span class="number">4</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">2</span>,<span class="number">8</span>,<span class="number">8</span>,<span class="number">8</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">2</span>,<span class="number">8</span>,<span class="number">8</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">4</span>,<span class="number">8</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">4</span>,<span class="number">4</span>,<span class="number">8</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">8</span>&#125;;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</div><div class="line">	freopen(<span class="string">"num.in"</span>,<span class="string">"r"</span>,<span class="built_in">stdin</span>);</div><div class="line">	freopen(<span class="string">"num.out"</span>,<span class="string">"w"</span>,<span class="built_in">stdout</span>);</div><div class="line">	<span class="keyword">int</span> T;</div><div class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;T);</div><div class="line">	<span class="keyword">int</span> n;</div><div class="line">	<span class="keyword">while</span>(T--)&#123;</div><div class="line">		<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n);</div><div class="line">		<span class="built_in">printf</span>(<span class="string">"%d\n"</span>,ans[n]);</div><div class="line">	&#125; </div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>; </div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h1 id="拐弯"><a href="#拐弯" class="headerlink" title="拐弯"></a>拐弯</h1><h2 id="题目描述-2"><a href="#题目描述-2" class="headerlink" title="题目描述"></a>题目描述</h2><p>N*N（1&lt;=N&lt;=100)方格中，’x’表示不能行走的格子，’.’表示可以行走的格子。卡门很胖，故而不好拐 弯。现在要从 A 点走到 B 点，请问最少要转 90 度弯几次？ </p>
<h2 id="输入文件-2"><a href="#输入文件-2" class="headerlink" title="输入文件"></a>输入文件</h2><p>第一行，一个整数 N，下面 N 行，每行 N 个字符，只出现字符’.’,’x’,’A’,’B’，表示上面所说的矩阵格子， 每个字符后有一个空格。</p>
<h2 id="输出文件-2"><a href="#输出文件-2" class="headerlink" title="输出文件"></a>输出文件</h2><p>一个整数，表示最少转弯次数。如果不能到达，输出-1。 </p>
<h2 id="样例输入-2"><a href="#样例输入-2" class="headerlink" title="样例输入"></a>样例输入</h2><p>3 </p>
<p>.xA</p>
<p>…</p>
<p>Bx. </p>
<h2 id="样例输出-2"><a href="#样例输出-2" class="headerlink" title="样例输出"></a>样例输出</h2><p>2</p>
<h2 id="数据规模-2"><a href="#数据规模-2" class="headerlink" title="数据规模"></a>数据规模</h2><p>1&lt;=N&lt;=100。</p>
<h2 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h2><p>只可以上、下、左、右四个方向行走，并且不能走出这些格子之外。开始和结束时的方向可以任意。</p>
<h2 id="题解-2"><a href="#题解-2" class="headerlink" title="题解"></a>题解</h2><h4 id="此题的神坑点就在于读入部分"><a href="#此题的神坑点就在于读入部分" class="headerlink" title="此题的神坑点就在于读入部分"></a>此题的神坑点就在于读入部分</h4><h4 id="每个中间还有一个空格！！"><a href="#每个中间还有一个空格！！" class="headerlink" title="每个中间还有一个空格！！"></a>每个中间还有一个空格！！</h4><h4 id="出题者真的好和-恶-善-毒-啊"><a href="#出题者真的好和-恶-善-毒-啊" class="headerlink" title="出题者真的好和(恶)善(毒)啊"></a>出题者真的好和(恶)善(毒)啊</h4><h4 id="关键就是，每行最后一个字符以后面不仅跟了一个回车，还有个空格！！！"><a href="#关键就是，每行最后一个字符以后面不仅跟了一个回车，还有个空格！！！" class="headerlink" title="关键就是，每行最后一个字符以后面不仅跟了一个回车，还有个空格！！！"></a>关键就是，每行最后一个字符以后面不仅跟了一个回车，还有个空格！！！</h4><h4 id="所以对于getchar读回车的人来说-此处要写两遍getchar"><a href="#所以对于getchar读回车的人来说-此处要写两遍getchar" class="headerlink" title="所以对于getchar读回车的人来说 此处要写两遍getchar"></a>所以对于getchar读回车的人来说 此处要写两遍getchar</h4><p>（从100–&gt;0分就因为读入）</p>
<blockquote>
<h3 id="解法1"><a href="#解法1" class="headerlink" title="解法1"></a>解法1</h3><h4 id="裸的BFS跑一遍就行了"><a href="#裸的BFS跑一遍就行了" class="headerlink" title="裸的BFS跑一遍就行了"></a>裸的BFS跑一遍就行了</h4><p>记一个flag[i][j][k]表示坐标为i，j方向为k走过没有</p>
</blockquote>
<p>代码<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div></pre></td><td class="code"><pre><div class="line">#include&lt;iostream&gt;</div><div class="line">#include&lt;cstdio&gt;</div><div class="line">#include&lt;cstdlib&gt;</div><div class="line">#include&lt;cstring&gt;</div><div class="line">#include&lt;algorithm&gt;</div><div class="line">#include&lt;cmath&gt;</div><div class="line">#include&lt;queue&gt;</div><div class="line">#define inf 0x7ffffff</div><div class="line">using namespace std;</div><div class="line">int mp[200][200],sx,sy,ex,ey;</div><div class="line">int flag[200][200][4];</div><div class="line">int dx[]=&#123;0,-1,0,1&#125;;</div><div class="line">int dy[]=&#123;-1,0,1,0&#125;;</div><div class="line">int n;</div><div class="line">struct node&#123;</div><div class="line">	int x,y;</div><div class="line">	int face,cost;	</div><div class="line">	node(int xx,int yy,int t,int c)&#123;</div><div class="line">		x=xx;y=yy;face=t;cost=c;</div><div class="line">	&#125; </div><div class="line">&#125;;</div><div class="line">bool in_map(int x,int y)&#123;</div><div class="line">	if(x&lt;1||x&gt;n||y&lt;1||y&gt;n) return false;</div><div class="line">	return true;</div><div class="line">&#125; </div><div class="line">void read()&#123;</div><div class="line">	char tp;</div><div class="line">	scanf(&quot;%d&quot;,&amp;n);</div><div class="line">	for(int i=1;i&lt;=n;i++)&#123;</div><div class="line">		getchar();</div><div class="line">		for(int j=1;j&lt;=n;j++)</div><div class="line">		&#123;</div><div class="line">			scanf(&quot;%c&quot;,&amp;tp);</div><div class="line">			if(tp==32)&#123;</div><div class="line">				j--;continue;</div><div class="line">			&#125; </div><div class="line">			if(tp==&apos;A&apos;)&#123;</div><div class="line">				sx=i;sy=j;</div><div class="line">			&#125;</div><div class="line">			else if(tp==&apos;B&apos;)&#123;</div><div class="line">				ex=i;ey=j;</div><div class="line">			&#125;</div><div class="line">			else if(tp==&apos;.&apos;)&#123;</div><div class="line">				mp[i][j]==0;</div><div class="line">			&#125;</div><div class="line">			else if(tp==&apos;x&apos;)</div><div class="line">			&#123;</div><div class="line">				mp[i][j]=1;</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">		getchar();</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line">queue&lt;node&gt;q;</div><div class="line">int main()&#123;</div><div class="line">	//freopen(&quot;ddos.in&quot;,&quot;r&quot;,stdin);</div><div class="line">	//freopen(&quot;ddos.out&quot;,&quot;w&quot;,stdout);</div><div class="line">	read();</div><div class="line">	if(sx==ex&amp;&amp;sy==ey)&#123;</div><div class="line">		printf(&quot;0\n&quot;);</div><div class="line">		return 0;</div><div class="line">	&#125;</div><div class="line">	for(int i=0;i&lt;=3;i++)</div><div class="line">		q.push(node(sx,sy,i,0));</div><div class="line">	while(!q.empty())&#123;</div><div class="line">			node k=q.front();</div><div class="line">			int tx=k.x,ty=k.y;</div><div class="line">		</div><div class="line">			int f=k.face;</div><div class="line">			int x=tx+dx[f],y=ty+dy[f];</div><div class="line">			while(!in_map(x,y)||mp[x][y]==1&amp;&amp;!flag[x][y][f])&#123;</div><div class="line">				q.push(node(x,y,f,k.cost));</div><div class="line">				x+=dx[f];y+=dy[f];</div><div class="line">				flag[x][y][f]=1;	</div><div class="line">				if(x==ex&amp;&amp;y==ey)&#123;</div><div class="line">					printf(&quot;%d&quot;,k.cost);</div><div class="line">					return 0;</div><div class="line">				&#125;</div><div class="line">			&#125;</div><div class="line">			if(!flag[x][y][(f+1+4)%4]) &#123;</div><div class="line">				q.push(node(tx,ty,(f+1+4)%4,k.cost+1));</div><div class="line">				flag[x][y][(f+1+4)%4]=1;</div><div class="line">			&#125;</div><div class="line">			if(!flag[x][y][(f-1+4)%4]) &#123;</div><div class="line">				q.push(node(tx,ty,(f-1+4)%4,k.cost+1));</div><div class="line">				flag[x][y][(f-1+4)%4]=1;</div><div class="line">			&#125;</div><div class="line">	&#125;</div><div class="line">	printf(&quot;-1&quot;);</div><div class="line">	return 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<blockquote>
<h3 id="解法2"><a href="#解法2" class="headerlink" title="解法2"></a>解法2</h3><h4 id="From-Twy-ei大神"><a href="#From-Twy-ei大神" class="headerlink" title="From: Twy_ei大神"></a>From: Twy_ei大神</h4><h4 id="BFS优化版本"><a href="#BFS优化版本" class="headerlink" title="BFS优化版本"></a>BFS优化版本</h4><h4 id="以拐弯的次数为步数BFS"><a href="#以拐弯的次数为步数BFS" class="headerlink" title="以拐弯的次数为步数BFS"></a>以拐弯的次数为步数BFS</h4><h4 id="每次选好一个方向就把这个方向能跑的就跑完"><a href="#每次选好一个方向就把这个方向能跑的就跑完" class="headerlink" title="每次选好一个方向就把这个方向能跑的就跑完"></a>每次选好一个方向就把这个方向能跑的就跑完</h4><h4 id="相当于BFS的每一层次的拐弯数目是一样的"><a href="#相当于BFS的每一层次的拐弯数目是一样的" class="headerlink" title="相当于BFS的每一层次的拐弯数目是一样的"></a>相当于BFS的每一层次的拐弯数目是一样的</h4><h4 id="那么显然最先遍历到终点时就是最优解"><a href="#那么显然最先遍历到终点时就是最优解" class="headerlink" title="那么显然最先遍历到终点时就是最优解"></a>那么显然最先遍历到终点时就是最优解</h4></blockquote>
<p>代码<br>并没有写 如果真的要看详情友链的第二个博客<br>此做法FROM Twy_ei大佬 </p>
<blockquote>
<h3 id="解法3"><a href="#解法3" class="headerlink" title="解法3"></a>解法3</h3><h4 id="From-Anoxiacxy-大神（第一个友链）"><a href="#From-Anoxiacxy-大神（第一个友链）" class="headerlink" title="From Anoxiacxy 大神（第一个友链）"></a>From Anoxiacxy 大神（第一个友链）</h4><h4 id="SPFA求最短路，当转弯时，距离加一，其他时候不变即可"><a href="#SPFA求最短路，当转弯时，距离加一，其他时候不变即可" class="headerlink" title="SPFA求最短路，当转弯时，距离加一，其他时候不变即可"></a>SPFA求最短路，当转弯时，距离加一，其他时候不变即可</h4><p>这个做法是真的强！！！！<br>dis[i][j]记录到达i，j的最少拐弯次数 spfa松弛</p>
</blockquote>
<p>代码<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//仿照 Anoxiacy的做法自己打了一遍</span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdlib&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> inf 0x7fffffff</span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span></div><div class="line">	<span class="keyword">int</span> x,y,c;</div><div class="line">	node(<span class="keyword">int</span> xx,<span class="keyword">int</span> yy,<span class="keyword">int</span> zz)&#123;</div><div class="line">		x=xx;y=yy;c=zz;</div><div class="line">	&#125;</div><div class="line">&#125;;</div><div class="line"><span class="built_in">queue</span>&lt;node&gt;q;</div><div class="line"><span class="keyword">int</span> dis[<span class="number">120</span>][<span class="number">120</span>][<span class="number">4</span>];</div><div class="line"><span class="keyword">int</span> mp[<span class="number">120</span>][<span class="number">120</span>];</div><div class="line"><span class="keyword">int</span> dx[]=&#123;<span class="number">0</span>,<span class="number">-1</span>,<span class="number">0</span>,<span class="number">1</span>&#125;;</div><div class="line"><span class="keyword">int</span> dy[]=&#123;<span class="number">-1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>&#125;;</div><div class="line"><span class="keyword">int</span> n,sx,sy,ex,ey;</div><div class="line"><span class="keyword">int</span> vis[<span class="number">120</span>][<span class="number">120</span>][<span class="number">4</span>];</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">spfa</span><span class="params">()</span></span>&#123;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=n;j++)</div><div class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> k=<span class="number">0</span>;k&lt;<span class="number">4</span>;k++)</div><div class="line">				dis[i][j][k]=inf;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">4</span>;i++)&#123;</div><div class="line">		q.push(node(sx,sy,i));</div><div class="line">		dis[sx][sy][i]=<span class="number">0</span>;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">while</span>(!q.empty())&#123;</div><div class="line">		node k=q.front();q.pop();</div><div class="line">		<span class="keyword">int</span> x=k.x,y=k.y,c=k.c;</div><div class="line">		vis[x][y][c]=<span class="literal">false</span>;</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">4</span>;i++)&#123;</div><div class="line">			<span class="keyword">int</span> tx=x+dx[i],ty=y+dy[i];</div><div class="line">			<span class="keyword">if</span>(tx&lt;<span class="number">1</span>||tx&gt;n||ty&lt;<span class="number">1</span>||ty&gt;n||mp[tx][ty]) <span class="keyword">continue</span>;</div><div class="line">			<span class="keyword">if</span>(dis[tx][ty][i]&gt;dis[x][y][c]+(c==i?<span class="number">0</span>:<span class="number">1</span>)&#123;</div><div class="line">			<span class="comment">//和当前的方向是一个方向就不加，否则+1</span></div><div class="line">				dis[tx][ty][i]=dis[x][y][c]+(c==i?<span class="number">0</span>:<span class="number">1</span>);</div><div class="line">				<span class="keyword">if</span>(!vis[tx][ty][i])&#123;</div><div class="line">					vis[tx][ty][i]=<span class="literal">true</span>;</div><div class="line">					q.push(node(tx,ty,i));</div><div class="line">				&#125;</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">int</span> ans=inf;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">4</span>;i++)</div><div class="line">		ans=min(dis[ex][ey][i],ans);</div><div class="line">	<span class="keyword">if</span>(ans==inf) ans=<span class="number">-1</span>;</div><div class="line">	<span class="built_in">printf</span>(<span class="string">"%d"</span>,ans); </div><div class="line">&#125;</div><div class="line"><span class="keyword">void</span> read()&#123;</div><div class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n);</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</div><div class="line">		getchar();</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=n;j++)</div><div class="line">		&#123;</div><div class="line">			<span class="keyword">char</span> tp;</div><div class="line">			<span class="built_in">scanf</span>(<span class="string">"%c"</span>,&amp;tp);</div><div class="line">			<span class="keyword">if</span>(tp==<span class="number">32</span>)&#123;</div><div class="line">				j--;<span class="keyword">continue</span>;</div><div class="line">			&#125; </div><div class="line">			<span class="keyword">if</span>(tp==<span class="string">'A'</span>)&#123;</div><div class="line">				sx=i;sy=j;</div><div class="line">			&#125;</div><div class="line">			<span class="keyword">else</span> <span class="keyword">if</span>(tp==<span class="string">'B'</span>)&#123;</div><div class="line">				ex=i;ey=j;</div><div class="line">			&#125;</div><div class="line">			<span class="keyword">else</span> <span class="keyword">if</span>(tp==<span class="string">'.'</span>)&#123;</div><div class="line">				mp[i][j]==<span class="number">0</span>;</div><div class="line">			&#125;</div><div class="line">			<span class="keyword">else</span> <span class="keyword">if</span>(tp==<span class="string">'x'</span>)</div><div class="line">			&#123;</div><div class="line">				mp[i][j]=<span class="number">1</span>;</div><div class="line">			&#125;</div><div class="line">		&#125;getchar();</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">int</span> main()&#123;</div><div class="line">	<span class="comment">//freopen("ddos.in","r",stdin);</span></div><div class="line">	<span class="comment">//freopen("ddos.out","w",stdout);</span></div><div class="line">	read();</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++,<span class="built_in">puts</span>(<span class="string">""</span>))</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=n;j++)</div><div class="line">			<span class="built_in">printf</span>(<span class="string">"%d "</span>,mp[i][j]); </div><div class="line">	spfa();</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h1 id="赛马"><a href="#赛马" class="headerlink" title="赛马"></a>赛马</h1><h2 id="题目描述-3"><a href="#题目描述-3" class="headerlink" title="题目描述"></a>题目描述</h2><p>我国历史上有个著名的故事： 那是在 2300 年以前，齐国的大将军田忌喜欢赛马，他经常和齐王赛马。他和齐王都有三匹马：常规 马、上级马、超级马。一共赛三局，每局的胜者可以从负者这里取得 200 银币。每匹马只能用一次。 齐王的马好，同等级的马，齐王的总是比田忌的要好一点。于是每次和齐王赛马，田忌总会输 600 银币。 田忌很沮丧，直到他遇到了著名的军师-孙膑。田忌采用了孙膑的计策之后，三场比赛下来，轻 松而优雅地赢了齐王 200 银币。 这实在是个很简单的计策。由于齐王总是先出最好的马，再出次好的马，所以田忌用常规马对齐 王的超级马，用自己的超级马对齐王的上级马，用自己的上级马对齐王的常规马，以两胜一负的战绩 赢得 200 银币。实在很简单。 如果不止三匹马怎么办？这个问题很显然可以转化成一个二分图最佳匹配的问题。把田忌的马放 左边，把齐王的马放右边。田忌的马 A 和齐王的马 B 之间，如果田忌的马胜，则连一条权为 200 的 边，如果平局，则连一条权为 0 的边，如果输，则连一条权为-200 的边。。。。。。如果你不会求最佳匹 配，用最小费用最大流也可以啊。 然而，赛马问题是一种特殊的二分图最佳匹配的问题，上面的算法过于先进了，简直是杀鸡用牛 刀。现在，就请你设计一个简单的算法解决这个问题 </p>
<h2 id="输入文件-3"><a href="#输入文件-3" class="headerlink" title="输入文件"></a>输入文件</h2><p>第一行一个整数 N，表示他们各有 N 匹马（两人拥有的马的数目相同）。第二行 N 个整数，每个整数 都代表田忌的某匹马的速度值（0&lt;=速度值&lt;=100）。第三行 N 个整数，描述齐王的马的速度值。两马 相遇，根据速度值的大小就可以知道哪匹马会胜出。如果速度值相同，则和局，谁也不拿钱。 </p>
<h2 id="输出文件-3"><a href="#输出文件-3" class="headerlink" title="输出文件"></a>输出文件</h2><p>仅一行，一个整数，表示田忌最大能得到多少银币。 </p>
<h2 id="样例输入-3"><a href="#样例输入-3" class="headerlink" title="样例输入"></a>样例输入</h2><p>3 </p>
<p>92 83 71</p>
<p>95 87 74</p>
<h2 id="样例输出-3"><a href="#样例输出-3" class="headerlink" title="样例输出"></a>样例输出</h2><p>200</p>
<h2 id="数据规模-3"><a href="#数据规模-3" class="headerlink" title="数据规模"></a>数据规模</h2><p>20%的数据，1&lt;=N&lt;=65; 40%的数据，1&lt;=N&lt;=250; 100%的数据，1&lt;=N&lt;=2000。</p>
<h2 id="题解-3"><a href="#题解-3" class="headerlink" title="题解"></a>题解</h2><p>神级贪心，每次比较田忌最差的马与秦王最差的马，如果能赢肯定跑，再比较最好的马，能赢肯定跑，然后如果田忌最好的马只能和秦王最差的马打个平手，那么肯定也就打个平手了，其他情况田忌都是输，O(n)<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="keyword">int</span> n,a[<span class="number">2200</span>],b[<span class="number">2200</span>],ans;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">	freopen(<span class="string">"horse.in"</span>,<span class="string">"r"</span>,<span class="built_in">stdin</span>);</div><div class="line">	freopen(<span class="string">"horse.out"</span>,<span class="string">"w"</span>,<span class="built_in">stdout</span>);</div><div class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n);</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</div><div class="line">		<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;a[i]);</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</div><div class="line">		<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;b[i]);</div><div class="line">	sort(a+<span class="number">1</span>,a+<span class="number">1</span>+n);</div><div class="line">	sort(b+<span class="number">1</span>,b+<span class="number">1</span>+n);</div><div class="line">	<span class="keyword">int</span> i=<span class="number">1</span>,j=<span class="number">1</span>,am=n,bm=n;</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> k=<span class="number">1</span>;k&lt;=n;k++)&#123;</div><div class="line">		<span class="keyword">if</span>(a[am]&gt;b[bm])</div><div class="line">		&#123;</div><div class="line">			ans+=<span class="number">200</span>;</div><div class="line">			am--;bm--;</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(a[i]&gt;b[j])</div><div class="line">		&#123;</div><div class="line">			ans+=<span class="number">200</span>;</div><div class="line">			i++,j++;</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">else</span> <span class="keyword">if</span>(a[i]&lt;b[bm])</div><div class="line">		&#123;</div><div class="line">			ans-=<span class="number">200</span>;</div><div class="line">			i++,bm--;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="built_in">printf</span>(<span class="string">"%d"</span>,ans);</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125; </div><div class="line"><span class="comment">/*</span></div><div class="line">3 </div><div class="line">92 83 71 </div><div class="line">95 87 74 </div><div class="line">5</div><div class="line">1 1 2 2 3</div><div class="line">1 2 2 3 3</div><div class="line">*/</div></pre></td></tr></table></figure></p>
</div></header><footer class="post__foot u-cf"><ul class="post__tag u-fl"><li class="post__tag__item"><a class="post__tag__link" href="/tags/NOIP模拟赛/">NOIP模拟赛</a></li></ul></footer></article><div class="comments" id="lv-container" data-id="city" data-uid="MTAyMC8yOTYwMy82MTcx"><script>(function(d, s) {var j, e = d.getElementsByTagName(s)[0];if (typeof LivereTower === 'function') { return; } j = d.createElement(s);j.src = 'https://cdn-city.livere.com/js/embed.dist.js';j.async = true;e.parentNode.insertBefore(j, e);})(document, 'script');</script></div></main><footer class="foot"><div class="foot-copy">&copy; 2017 by XLJ</div></footer><script src="/js/scroller.js"></script><script src="/js/main.js"></script></body></html>